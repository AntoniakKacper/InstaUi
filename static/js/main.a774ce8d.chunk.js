(this.webpackJsonpinsta=this.webpackJsonpinsta||[]).push([[0],{344:function(e,t,a){},345:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(37),o=a.n(s),i=a(16),r=(a(44),a(170)),l=a.n(r),j=a(18),d=a(0),u=function(){var e=Object(i.c)((function(e){return e.auth})).authenticated;return Object(d.jsx)("div",{className:"navbar",children:e?Object(d.jsxs)("div",{className:"nav-content",children:[Object(d.jsx)(j.b,{to:"/home",className:"insta-logo",children:"Instakilogram"}),Object(d.jsx)("div",{className:"nav-icons",children:Object(d.jsx)(j.b,{to:"/addPost",children:Object(d.jsx)("i",{className:"far fa-plus-square"})})})]}):Object(d.jsxs)("div",{className:"nav-content",children:[Object(d.jsx)("p",{className:"insta-logo",children:"Instakilogram"}),Object(d.jsx)(l.a,{fontSize:"large"})]})})},b=a(10),h=a(19),p=a.n(h),O=a(27),m=a(72),f=a(408),x=a(7),g=a(173),v=a.n(g),_=a(174),N=a.n(_),y=a(400),w=a(415),k=a(423),S=a(24),C=function(e){var t,a=e.label,n=e.name,s=e.variant,o=Object(c.useState)(!1),i=Object(x.a)(o,2),r=i[0],l=i[1],j=Object(S.f)(),u=j.register,h=j.formState.errors;return Object(d.jsx)(y.a,Object(b.a)(Object(b.a)({},u(n)),{},{label:a,name:n,fullWidth:!0,type:r?"text":"password",color:"primary",variant:s,error:!!h[n],helperText:h[n]?null===(t=h[n])||void 0===t?void 0:t.message:"",InputProps:{endAdornment:Object(d.jsx)(w.a,{position:"start",children:Object(d.jsx)(k.a,{onClick:function(){l(!r)},children:r?Object(d.jsx)(v.a,{style:{fill:"#989898"}}):Object(d.jsx)(N.a,{style:{fill:"#989898"}})})})}}))},P=function(e){var t,a=e.label,c=e.name,n=e.placeholder,s=e.type,o=e.variant,i=Object(S.f)(),r=i.register,l=i.formState.errors;return Object(d.jsx)(y.a,Object(b.a)(Object(b.a)({},r(c)),{},{label:a,name:c,placeholder:n,fullWidth:!0,type:s,color:"primary",variant:o,error:!!l[c],helperText:l[c]?null===(t=l[c])||void 0===t?void 0:t.message:""}))},E=a(175),L=a.n(E),T=a(50),A=a(178),D=a(176),R="SIGN_UP",W="SIGN_OUT",F="SIGN_IN_SOCIAL",I="SET_LOADING",U="RESET_AUTH",z="GET_USER_BY_ID",M="GET_USER_POSTS",q="LIKE_USER_POST",B="FOLLOW_USER",Y="SET_AVATAR",G="SET_NAME",H="DELETE_POST",K="SET_LOADING_USER",$="SET_POSTS",J="LIKE_POST",Z="ADD_COMMENT",V="DELETE_POST_COMMENT",Q="DELETE_USER_COMMENT",X="SET_LOADING_POST",ee={posts:null,postLoading:!1,currentPage:0,hasNextPage:!0},te={user:null,authenticated:!1,token:"",authLoading:!1},ae=a(191),ce=a(177),ne=a.n(ce),se=a(68),oe={user:null,posts:null,userLoading:!1,currentPage:0,hasNextPage:!0},ie={key:"root",storage:ne.a,whitelist:["auth"]},re=Object(T.combineReducers)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(b.a)(Object(b.a)({},e),{},{postLoading:t.payload});case $:return Object(b.a)(Object(b.a)({},e),{},{posts:t.payload.posts,currentPage:t.payload.currentPage,hasNextPage:t.payload.hasNextPage,postLoading:!1});case J:case Z:case V:return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.payload.id?t.payload:e}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(b.a)(Object(b.a)({},e),{},{authLoading:t.payload});case R:return Object(b.a)(Object(b.a)({},e),{},{user:t.payload.user,token:t.payload.token,authenticated:!0,authLoading:!1});case U:case W:return Object(b.a)(Object(b.a)({},e),{},{token:"",authenticated:!1,user:null,authLoading:!1});case F:return Object(b.a)(Object(b.a)({},e),{},{authLoading:!1});case Y:return Object(b.a)(Object(b.a)({},e),{},{user:e.user&&Object(b.a)(Object(b.a)({},e.user),{},{avatar_url:t.payload})});case G:return Object(b.a)(Object(b.a)({},e),{},{user:e.user&&Object(b.a)(Object(b.a)({},e.user),{},{name:t.payload})});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(b.a)(Object(b.a)({},e),{},{userLoading:t.payload});case z:return Object(b.a)(Object(b.a)({},e),{},{user:t.payload,posts:t.payload.posts,userLoading:!1});case M:return Object(b.a)(Object(b.a)({},e),{},{posts:t.payload.posts,currentPage:t.payload.currentPage,hasNextPage:t.payload.hasNextPage});case B:return Object(b.a)(Object(b.a)({},e),{},{user:t.payload,userLoading:!1});case Y:return Object(b.a)(Object(b.a)({},e),{},{user:e.user&&Object(b.a)(Object(b.a)({},e.user),{},{avatar_url:t.payload}),userLoading:!1});case H:return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.payload})),userLoading:!1});case q:case Q:return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.payload.id?t.payload:e}))});default:return e}}}),le=Object(se.a)(ie,re),je=Object(T.createStore)(le,Object(D.composeWithDevTools)(Object(T.applyMiddleware)(A.a))),de=Object(ae.a)(je),ue=L.a.create({baseURL:"https://instakilogram-api.herokuapp.com/api"});ue.interceptors.request.use((function(e){return e.headers.authorization="Bearer ".concat(je.getState().auth.token),e})),ue.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&je.dispatch({type:U}),Promise.reject(e)}));var be=ue,he=function(e,t){return function(a){a(pe(!0));try{be.get("./login/".concat(t,"/callback"),{params:{token:e}}).then((function(e){console.log(e);var t=e.data.data.user,c=e.data.data.token;console.log(c),a({type:R,payload:{user:t,token:c}}),console.log(e.data.data)}))}catch(c){console.log(c)}}},pe=function(e){return function(t){try{t({type:I,payload:e})}catch(a){console.log(a)}}},Oe=a(59),me=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,15}$/,fe=Oe.b().required("Password is required").min(6,"Password is too short").max(15,"Password is too long").matches(me,"Password does not meet requirements."),xe=Oe.b().required("You need to confirm your password").min(6,"Password is too short").max(15,"Password is too long").matches(me,"Password does not meet requirements."),ge={email:Oe.b().email("Invalid email").required("Email is required"),password:xe},ve=Oe.a().shape({password:xe,password_confirmation:fe}),_e=Oe.a().shape(Object(b.a)(Object(b.a)({},ge),{},{password_confirmation:fe,name:Oe.b().required("Name required").min(6,"Name is too short").max(15,"Name is too long")})),Ne=Oe.a().shape(ge),ye=a(182),we=a.n(ye),ke=a(183),Se=a.n(ke),Ce=function(){var e=Object(i.c)((function(e){return e.auth})).authLoading,t=Object(i.b)(),a=Object(S.e)({resolver:Object(m.a)(Ne)}),c=function(e){t(he(e.accessToken,"google"))},n=function(){var e=Object(O.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(he(a.code,"github"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"auth__wrapper",children:[Object(d.jsxs)("div",{className:"auth__header",children:[Object(d.jsx)("h1",{children:"Log in"}),Object(d.jsx)("p",{children:"Sign up with one of following options."})]}),Object(d.jsxs)("div",{className:"social-auth-container",children:[Object(d.jsx)(we.a,{className:"social-auth-container-button",clientId:"794644769367-8lbh86hm5pnhc77rkijeduoblmcrig7k.apps.googleusercontent.com",onSuccess:c,onFailure:c,buttonText:"Google",tag:"button",render:function(e){return Object(d.jsx)("button",{className:"social-auth-container-button social-auth-container-button-google",onClick:e.onClick,disabled:e.disabled,children:Object(d.jsx)("i",{className:"fab fa-google  social-auth-container-button-icon"})})},icon:!1,cookiePolicy:"single_host_origin"}),Object(d.jsx)(Se.a,{clientId:"8da553fa87f13af3b9c5",className:"social-auth-container-button social-auth-container-button-github",scope:"user:email",onSuccess:n,buttonText:Object(d.jsx)("i",{className:"fab fa-github social-auth-container-button-icon"}),onFailure:function(e){return console.error(e)}})]}),Object(d.jsxs)(S.a,Object(b.a)(Object(b.a)({},a),{},{children:[Object(d.jsxs)("form",{onSubmit:a.handleSubmit((function(e){t(function(e){return function(t){t(pe(!0));try{be.post("/login",e).then((function(e){console.log(e);var a=e.data.data.user,c=e.data.data.token;t({type:R,payload:{user:a,token:c}})})).catch((function(e){return console.log(e)}))}catch(a){console.log(a)}}}(e))})),className:"form form-sign-in",children:[Object(d.jsx)(P,{label:"Email",name:"email",placeholder:"email@email.com",type:"email",variant:"outlined"}),Object(d.jsx)(C,{label:"Password",name:"password",variant:"outlined"}),e?Object(d.jsx)(f.a,{variant:"outlined",color:"primary",disabled:!0,children:"Loading..."}):Object(d.jsx)(f.a,{type:"submit",variant:"contained",children:"Sign In"})]}),Object(d.jsxs)("div",{className:"auth__footer",children:[Object(d.jsx)("p",{children:"Don't have an account? "}),Object(d.jsx)(j.b,{to:"/signup",children:"Sign up"})]})]}))]})},Pe=function(){var e=Object(i.b)(),t=Object(S.e)({resolver:Object(m.a)(_e)}),a=t.watch(["password","password_confirmation"]),c=Object(x.a)(a,2),n=c[0],s=c[1];return Object(d.jsxs)("div",{className:"auth__wrapper",children:[Object(d.jsx)("div",{className:"auth__header",children:Object(d.jsx)("h1",{children:"Sign up"})}),Object(d.jsx)(S.a,Object(b.a)(Object(b.a)({},t),{},{children:Object(d.jsxs)("form",{onSubmit:t.handleSubmit((function(t){e(function(e){return function(t){t(pe(!0));try{be.post("./register",e).then((function(e){var a=e.data.data.user,c=e.data.data.token;t({type:R,payload:{user:a,token:c}})})).catch((function(e){return console.log(e)}))}catch(a){console.log(a)}}}(t))})),className:"form form-sign-up",children:[Object(d.jsx)(P,{label:"Username",name:"name",placeholder:"Username",type:"text",variant:"outlined"}),Object(d.jsx)(P,{label:"Email",name:"email",placeholder:"email@email.com",type:"email",variant:"outlined"}),Object(d.jsx)(C,{label:"Password",name:"password",variant:"outlined"}),Object(d.jsx)(C,{label:"Confirm Password",name:"password_confirmation",variant:"outlined"}),void 0!==n&&n===s?Object(d.jsx)(f.a,{type:"submit",variant:"contained",children:"Sign up"}):Object(d.jsx)(f.a,{type:"submit",variant:"contained",disabled:!0,children:"Sign up"})]})})),Object(d.jsxs)("span",{className:"auth__footer",children:[Object(d.jsx)("p",{children:"Already have an account? "}),Object(d.jsx)(j.b,{to:"/signin",className:"sign-in__footer__link",children:"Sign in"})]})]})},Ee=a(101),Le=a(103),Te=a.n(Le),Ae=a(409),De=a(190),Re=a(411),We=a(410),Fe=function(e){var t=e.open,a=e.setOpen,c=e.children,n=e.scrollType,o=e.maxWidth,i=e.fullWidth;return Object(s.createPortal)(Object(d.jsx)(We.a,{open:t,onClose:function(){a(!1)},scroll:n||"body",className:"modal",maxWidth:o,fullWidth:i,children:c}),document.body)},Ie=a(15),Ue=function(e,t){return function(a){try{be.get("./posts",{params:{page:e},headers:{Accept:"application/json"}}).then((function(e){var c=[].concat(Object(Ie.a)(t),Object(Ie.a)(e.data.data.data)),n=Boolean(e.data.data.next_page_url),s=e.data.data.current_page;console.log(n),console.log(e.data.data.next_page_url),console.log(e.data.data),a({type:$,payload:{posts:c,currentPage:s,hasNextPage:n}})})).catch((function(e){return console.log(e)}))}catch(c){console.log(c)}finally{qe(!1)}}},ze=function(e){return function(t){try{be.head("/posts/".concat(e.id,"/like"),{headers:{Accept:"application/json"}}).then((function(){e.likes_count+=e.isLiked?-1:1,e.isLiked=!e.isLiked,t({type:J,payload:e})})).catch((function(e){return console.log(e)}))}catch(a){console.log(a)}}},Me=function(e,t){return function(a){try{console.log(t.id),be.delete("./comments/".concat(t.id)).then((function(c){console.log(c);var n=e.comments.filter((function(e){return e.id!==t.id}));console.log(n),a({type:V,payload:Object(b.a)(Object(b.a)({},e),{},{comments:n})})})).catch((function(e){return console.log(e)}))}catch(c){console.log(c)}}},qe=function(e){return function(t){try{t({type:X,payload:e})}catch(a){console.log(a)}}},Be=function(e,t,a){return function(c){try{be.get("./users/".concat(e,"/posts"),{params:{page:a},headers:{Accept:"application/json"}}).then((function(e){var a=[].concat(Object(Ie.a)(t),Object(Ie.a)(e.data.data.data)),n=Boolean(e.data.data.next_page_url),s=e.data.data.current_page;c({type:M,payload:{posts:a,currentPage:s,hasNextPage:n}})})).catch((function(e){return console.log(e)}))}catch(n){console.log(n)}}},Ye=function(e,t){return function(a){try{be.delete("./comments/".concat(t.id)).then((function(c){console.log(c);var n=e.comments.filter((function(e){return e.id!==t.id}));a({type:Q,payload:Object(b.a)(Object(b.a)({},e),{},{comments:n})})})).catch((function(e){return console.log(e)}))}catch(c){console.log(c)}}},Ge=function(e){return function(t){try{t({type:K,payload:e})}catch(a){console.log(a)}}},He=a(416),Ke=function(e){var t=e.comment,a=e.post,c=e.deleteComment,n=Object(i.c)((function(e){var t;return null===(t=e.auth.user)||void 0===t?void 0:t.id})),s=Object(i.b)();return Object(d.jsxs)("div",{className:"post__comment",children:[Object(d.jsxs)("p",{children:[Object(d.jsx)(j.b,{to:"/profile/".concat(a.id),className:"post__username",children:t.author.name}),t.content]}),t.author.id===n?Object(d.jsx)("p",{className:"post__comment--delete",onClick:function(){s(c(a,t))},children:"Delete"}):Object(d.jsx)(d.Fragment,{})]},t.id)},$e=a(102),Je=a.n($e),Ze=function(e){var t=e.post,a=(e.setOpen,e.user),n=e.isOnWall,s=Object(c.useState)(""),o=Object(x.a)(s,2),r=o[0],l=o[1],u=Object(c.useState)(null),b=Object(x.a)(u,2),h=b[0],p=b[1],O=Object(c.useState)(!1),m=Object(x.a)(O,2),f=m[0],g=m[1],v=Object(c.useState)(t.isLiked),_=Object(x.a)(v,2),N=_[0],y=_[1],w=Object(c.useState)(t.likes_count),S=Object(x.a)(w,2),C=S[0],P=S[1],E=Object(c.useState)(!1),L=Object(x.a)(E,2),T=L[0],A=L[1],D=Object(i.c)((function(e){var t;return null===(t=e.auth.user)||void 0===t?void 0:t.id})),R=Object(i.b)(),W=Boolean(h),F=function(){y(!N),P(N?C-1:C+1),R(n?ze(t):function(e){return function(t){try{be.head("/posts/".concat(e.id,"/like"),{headers:{Accept:"application/json"}}).then((function(){e.likes_count+=e.isLiked?-1:1,e.isLiked=!e.isLiked,t({type:q,payload:e})})).catch((function(e){return console.log(e)}))}catch(a){console.log(a)}}}(t))},I=function(){p(null)},U=t.id,z=t.author,M=t.description,B=(t.likes_count,t.comments),Y=t.img_url;return Object(d.jsxs)("div",{className:"post-dialog",children:[Object(d.jsxs)("div",{className:"post-dialog__header",children:[Object(d.jsxs)("div",{className:"post-dialog__author",children:[Object(d.jsx)(Ae.a,{alt:a.name,src:a.avatar_url,className:"post-dialog__header__author__avatar"}),Object(d.jsx)("p",{className:"post-dialog__author-name",children:a.name})]}),D===t.author_id?Object(d.jsx)(k.a,{className:"post-dialog__menu",onClick:function(e){p(e.currentTarget)},children:Object(d.jsx)(Te.a,{})}):Object(d.jsx)(d.Fragment,{})]}),Object(d.jsx)("img",{src:Y,alt:a.name}),Object(d.jsxs)("section",{className:"post-dialog__content",children:[Object(d.jsxs)("div",{className:"post-dialog__buttons",children:[N?Object(d.jsx)("i",{className:"fas fa-fire post-dialog__icon-filled",onClick:F}):Object(d.jsx)("i",{className:"fas fa-fire",onClick:F}),Object(d.jsx)("i",{className:"far fa-comment post-dialog__icon",onClick:function(){g(!f)}}),Object(d.jsx)("i",{className:"far fa-bookmark post-dialog__icon"})]}),Object(d.jsxs)("p",{className:"post-dialog__likes",children:["Likes: ",C]}),Object(d.jsxs)("div",{className:"post__description",children:[Object(d.jsx)(j.b,{to:"/profile/".concat(z.id),className:"post__username post__username--author",children:z.name}),M]}),Object(d.jsx)("div",{className:"post-comments",children:B&&B.map((function(e){return Object(d.jsx)(Ke,{post:t,comment:e,deleteComment:n?Me:Ye},e.id)}))}),Object(d.jsx)("p",{className:"post-dialog__update-time",children:"created at ".concat(Je()(1e3*t.created_at).format("YYYY/MM/DD"))}),f&&Object(d.jsxs)("article",{className:"post-dialog__comment-container",children:[Object(d.jsx)("input",{className:"post-dialog__input",placeholder:"Add comment...",onChange:function(e){l(e.target.value)},value:r}),T?Object(d.jsx)(He.a,{size:30}):Object(d.jsx)("button",{className:"post-dialog__share-comment",onClick:function(){A(!0),R(n?function(e,t,a){return function(c){try{be.post("./comments",{content:e,post_id:t.id},{}).then((function(e){console.log(e);var n=e.data.data.location;be.get(".".concat(n)).then((function(e){t.comments.push(e.data.data),console.log(e),c({type:Z,payload:t}),a(!1)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}catch(n){console.log(n)}}}(r,t,A):function(e,t,a){return function(c){try{be.post("./comments",{content:e,post_id:t.id},{}).then((function(e){console.log(e);var n=e.data.data.location;be.get(".".concat(n)).then((function(e){t.comments.push(e.data.data),console.log(e),c({type:"ADD_USER_POST",payload:t}),a(!1)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}catch(n){console.log(n)}}}(r,t,A)),l("")},children:"Share"})]})]}),Object(d.jsxs)(De.a,{id:"basic-menu",anchorEl:h,open:W,onClose:I,MenuListProps:{"aria-labelledby":"basic-button"},children:[a&&a.id===t.author_id&&Object(d.jsx)(Re.a,{onClick:function(){R(function(e){return function(t){t(Ge(!0));try{be.delete("/posts/".concat(e),{headers:{Accept:"application/json"}}).then((function(){t({type:H,payload:e})})).catch((function(e){return console.log(e)}))}catch(a){console.log(a)}finally{Ge(!1)}}}(U)),I()},children:"Delete"}),a&&a.id===t.author_id&&Object(d.jsx)(j.b,{to:"/editPost",state:{id:t.id},children:Object(d.jsx)(Re.a,{children:"Edit"})}),Object(d.jsx)(Re.a,{onClick:I,children:"Cancel"})]})]})},Ve=function(e){var t=e.post,a=Object(i.b)(),s=t.description,o=t.isLiked,r=t.likes_count,l=t.comments,u=t.author,b=Object(c.useState)(!1),h=Object(x.a)(b,2),p=h[0],O=h[1],m=n.a.useState(null),f=Object(x.a)(m,2),g=f[0],v=f[1],_=(Object(i.c)((function(e){var t;return null===(t=e.auth.user)||void 0===t?void 0:t.id})),Boolean(g));Object(c.useEffect)((function(){}),[o]);var N=function(){v(null)},y=function(){a(ze(t))};return Object(d.jsxs)("div",{className:"post",children:[Object(d.jsxs)("div",{className:"post__nav",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(Ae.a,{alt:"post",src:u.avatar_url}),Object(d.jsx)(j.b,{to:"/profile/".concat(u.id),className:"post__username",children:u.name})]}),Object(d.jsx)(k.a,{onClick:function(e){v(e.currentTarget)},children:Object(d.jsx)(Te.a,{})}),Object(d.jsxs)(De.a,{id:"basic-menu",anchorEl:g,open:_,onClose:N,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(d.jsx)(Re.a,{onClick:function(){N(),O(!0)},children:"Redirect to post"}),Object(d.jsx)(Re.a,{onClick:N,children:"Stop following"}),Object(d.jsx)(Re.a,{onClick:N,children:"Cancel"})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{className:"post__img",src:t.img_url,alt:"instaphoto"}),Object(d.jsxs)("div",{className:"post__info",children:[Object(d.jsxs)("div",{className:"post__buttons",children:[o?Object(d.jsx)("i",{className:"fas fa-fire post-icon post-icon--filled",onClick:y}):Object(d.jsx)("i",{className:"fas fa-fire post-icon",onClick:y}),Object(d.jsx)("i",{className:"far fa-bookmark post-icon"})]}),Object(d.jsxs)("p",{className:"post-likes",children:["Likes: ",r]}),Object(d.jsxs)("div",{className:"post__description",children:[Object(d.jsx)(j.b,{to:"/profile/".concat(u.id),className:"post__username post__username--author",children:u.name}),s]}),Object(d.jsx)("div",{className:"post-comments",children:l&&l.slice(0,3).map((function(e){return Object(d.jsx)(Ke,{comment:e,post:t,deleteComment:Me},e.id)}))}),Object(d.jsx)("p",{className:"post-creation-date",children:"created at ".concat(Je()(1e3*t.created_at).format("YYYY/MM/DD"))})]})]}),Object(d.jsx)(Fe,{open:p,setOpen:O,fullWidth:!0,maxWidth:"sm",children:Object(d.jsx)(Ze,{post:t,user:t.author,setOpen:O,isOnWall:!0})})]})},Qe=function(e){Object(Ee.a)(e);var t=Object(i.b)(),a=Object(i.c)((function(e){return e.posts})),n=a.posts,s=a.postLoading,o=a.hasNextPage,r=a.currentPage;Object(c.useEffect)((function(){t(qe(!0)),t(Ue(1,[]))}),[]);return s?Object(d.jsx)("div",{className:"home-wrapper",children:Object(d.jsx)(He.a,{size:40})}):Object(d.jsxs)("div",{className:"home-wrapper",children:[n&&n.map((function(e){return Object(d.jsx)(Ve,{post:e},e.id)})),o&&Object(d.jsx)(f.a,{onClick:function(e){e.preventDefault(),o&&t(Ue(r+1,n))},children:"Load more posts..."})]})},Xe=a(17),et=function(e){var t=e.children;return Object(i.c)((function(e){return e.auth})).authenticated?t:Object(d.jsx)(Xe.a,{to:"/signin"})},tt=function(e){var t=e.children;return Object(i.c)((function(e){return e.auth})).authenticated?Object(d.jsx)(Xe.a,{to:"/home"}):t},at=a(417),ct=a(418),nt=a(185),st=a.n(nt),ot=a(186),it=a.n(ot),rt=function(){var e=c.useState("home"),t=Object(x.a)(e,2),a=t[0],n=t[1],s=Object(i.c)((function(e){return e.auth})).user,o=[{value:"home",icon:Object(d.jsx)(st.a,{})},{value:"search",icon:Object(d.jsx)(it.a,{})},{value:"profile/".concat(s.id),icon:Object(d.jsx)(Ae.a,{alt:s.name,src:s.avatar_url,sx:{width:24,height:24}})}];return Object(d.jsx)(at.a,{value:a,onChange:function(e,t){n(t)},className:"bottom-navbar",children:o.map((function(e){return Object(d.jsx)(ct.a,{component:j.b,to:"/".concat(e.value),value:e.value,icon:e.icon},e.value)}))})},lt=a(419),jt=a(412),dt=function(e){var t=e.drawerTitle,a=e.list,n=Object(c.useState)(!1),s=Object(x.a)(n,2),o=s[0],i=s[1],r=function(){i(!o)};return Object(d.jsxs)("div",{children:[Object(d.jsx)(f.a,{onClick:r,variant:"outlined",color:"primary",children:t}),Object(d.jsx)(jt.a,{open:o,onClose:r,anchor:"bottom",children:Object(d.jsx)(lt.a,{role:"presentation",onClick:r,onKeyDown:r,children:a})})]})},ut=a(414),bt=a(405),ht=a(397),pt=a(398),Ot=function(e){var t=e.post;return Object(d.jsxs)("div",{className:"post-dialog",children:[Object(d.jsxs)("div",{className:"post-dialog__header",children:[Object(d.jsxs)("div",{className:"post-dialog__author",children:[Object(d.jsx)(Ae.a,{alt:t.author.name,src:t.author.avatar_url,className:"post-dialog__header__author__avatar"}),Object(d.jsx)(j.b,{to:"/profile/".concat(t.author.id),className:"post__username simple-post-user",children:t.author.name})]}),Object(d.jsx)(d.Fragment,{})]}),Object(d.jsx)("img",{src:t.img_url,alt:t.img_url}),Object(d.jsxs)("section",{className:"post-dialog__content",children:[Object(d.jsxs)("p",{className:"post-dialog__likes",children:["Likes: ",t.likes_count]}),Object(d.jsxs)("div",{className:"post__description",children:[Object(d.jsx)(j.b,{to:"/profile/".concat(t.author.id),className:"post__username post__username--author",children:t.author.name}),t.description]})]})]})},mt=function(e){var t=e.post,a=e.searchActive,n=Object(c.useState)(!1),s=Object(x.a)(n,2),o=s[0],r=s[1],l=Object(i.c)((function(e){return e.userReducer})).user;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"profile-posts-item",onClick:function(){r(!o)},children:[Object(d.jsx)("img",{className:"profile-posts-item-image",src:t.img_url,alt:"xd"}),Object(d.jsx)("div",{className:"profile-posts-item-overlay",children:Object(d.jsxs)("div",{className:"profile-posts-item-overlay-container",children:[Object(d.jsxs)("div",{className:"profile-posts-item-overlay-icon",children:[Object(d.jsx)("i",{className:"fas fa-comment"}),Object(d.jsx)("p",{children:t.comments_count})]}),Object(d.jsxs)("div",{className:"profile-posts-item-overlay-icon",children:[Object(d.jsx)("i",{className:"fas fa-heart"}),Object(d.jsx)("p",{children:t.likes_count})]})]})})]}),Object(d.jsx)(Fe,{children:a?Object(d.jsx)(Ot,{post:t}):Object(d.jsx)(Ze,{post:t,user:l,isOnWall:!1}),open:o,setOpen:r,fullWidth:!0,maxWidth:"sm"})]})},ft=function(){var e=Object(S.e)({resolver:Object(m.a)(ve)}),t=e.watch(["password","password_confirmation"]),a=Object(x.a)(t,2),c=a[0],n=a[1],s=Object(i.b)();return Object(d.jsxs)("section",{className:"reset",children:[Object(d.jsx)("h1",{children:"Change your password"}),Object(d.jsx)(S.a,Object(b.a)(Object(b.a)({},e),{},{children:Object(d.jsxs)("form",{onSubmit:e.handleSubmit((function(e){console.log("ebeebe"),s(function(e){return function(t){try{be.post("./password-change",e).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}catch(a){console.log(a)}}}(e))})),className:"reset__form reset__form--edit-password",children:[Object(d.jsx)(C,{label:"New password",name:"password",variant:"outlined"}),Object(d.jsx)(C,{label:"Confirm Password",name:"password_confirmation",variant:"outlined"}),void 0!==c&&c===n?Object(d.jsx)(f.a,{type:"submit",variant:"contained",children:"Change password"}):Object(d.jsx)(f.a,{type:"submit",variant:"contained",disabled:!0,children:"Change password"})]})}))]})},xt=a(104),gt=function(e){var t=e.setOpen,a=Object(i.b)(),n=Object(i.c)((function(e){return e.auth})).user,s=Object(c.useState)(""),o=Object(x.a)(s,2),r=o[0],l=o[1];return Object(d.jsxs)("div",{className:"edit-profile",children:[Object(d.jsx)("h1",{children:"Edit profile"}),Object(d.jsxs)("div",{className:"edit-profile__header",children:[Object(d.jsx)(Ae.a,{alt:n.name,src:null===n||void 0===n?void 0:n.avatar_url,sx:{width:56,height:56}}),Object(d.jsxs)("div",{className:"edit-profile__user-info",children:[Object(d.jsx)("p",{className:"edit-profile__username",children:null===n||void 0===n?void 0:n.name}),Object(d.jsxs)("label",{className:"edit-profile__clickable-text",children:[Object(d.jsx)("input",{type:"file",accept:"image/png, image/jpeg",onChange:function(e){e.target.files&&Object(xt.a)(e.target.files[0],{maxWidthOrHeight:100,useWebWorker:!0}).then((function(t){var c;e.target.files&&a((c=t,function(e){try{var t=new FormData;t.append("avatar",c),be.post("./users",t,{params:{_method:"patch"},headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data.data.avatar_url),e({type:Y,payload:t.data.data.avatar_url})})).catch((function(e){return console.log(e)}))}catch(a){console.log(a)}}))})).catch((function(e){return console.log(e)}))}}),"Change avatar"]})]})]}),Object(d.jsx)("section",{children:Object(d.jsxs)("form",{onSubmit:function(e){var c;a((c=r,function(e){try{var t=new FormData;t.append("name",c),be.post("./users",t,{params:{_method:"patch"},headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var a=t.data.data.name;e({type:G,payload:a})})).catch((function(e){return console.log(e)}))}catch(a){console.log(a)}})),t(!1),e.preventDefault()},className:"reset__form reset__form--edit-profile",children:[Object(d.jsx)(y.a,{label:"Username",name:"username",placeholder:n.name,type:"text",variant:"outlined",onChange:function(e){l(e.target.value)}}),Object(d.jsx)(f.a,{type:"submit",variant:"contained",children:"Edit username"})]})})]})},vt=function(e){var t=e.id,a=e.path,n=e.setOpen,s=Object(c.useState)(null),o=Object(x.a)(s,2),i=o[0],r=o[1];function l(){return l=Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.get("./users/".concat(t,"/").concat(a),{headers:{Accept:"application/json"}}).then((function(e){var t=e.data.data;r(t)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}return Object(c.useEffect)((function(){return function(){l.apply(this,arguments)}(),function(){n(!1)}}),[]),Object(d.jsxs)("section",{className:"follow-dialog",children:[Object(d.jsx)("h1",{children:a.charAt(0).toUpperCase()+a.slice(1)}),Object(d.jsx)("article",{className:"follow-dialog__users",children:i?i.map((function(e){return Object(d.jsxs)("section",{className:"follow-dialog__user",children:[Object(d.jsx)("div",{className:"follow-dialog__avatar",children:Object(d.jsx)(j.b,{to:"/profile/".concat(e.id),children:Object(d.jsx)(Ae.a,{alt:e.name,src:e.avatar_url,sx:{width:30,height:30}})})}),Object(d.jsx)(j.b,{to:"/profile/".concat(e.id),children:e.name})]},e.id)})):Object(d.jsx)("section",{className:"follow-dialog__loading",children:Object(d.jsx)(He.a,{})})})]})},_t=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth.user.id})),a=Object(i.c)((function(e){return e.userReducer})),n=a.user,s=a.userLoading,o=a.posts,r=a.currentPage,l=a.hasNextPage,j=Object(Xe.h)().id,u=Object(c.useState)(!1),b=Object(x.a)(u,2),h=b[0],p=b[1],O=Object(c.useState)(!1),m=Object(x.a)(O,2),g=m[0],v=m[1],_=Object(c.useState)(!1),N=Object(x.a)(_,2),y=N[0],w=N[1],k=Object(c.useState)("followers"),S=Object(x.a)(k,2),C=S[0],P=S[1];Object(c.useEffect)((function(){e(Ge(!0)),e(function(e){return function(t){try{be.get("./users/".concat(e),{headers:{Accept:"application/json"}}).then((function(e){var a=e.data.data;t({type:z,payload:a})})).catch((function(e){return console.log(e)}))}catch(a){console.log(a)}}}(Number(j))),e(Be(Number(j),[],1))}),[j]);var E=function(){e((function(e){e(pe(!0));try{be.post("./logout").then((function(){e({type:W})})).catch((function(e){console.log(e)}))}catch(t){console.log(t)}}))},L=function(){p(!0)},T=function(){v(!0)},A=function(){n&&e(function(e){return function(t){try{be.head("./users/".concat(e.id,"/follow")).then((function(){e.followers_count+=e.isFollowed?-1:1,e.isFollowed=!e.isFollowed,t({type:B,payload:e})})).catch((function(e){return console.log(e)}))}catch(a){console.log(a)}}}(n))},D=function(e){n&&(n.followers_count>0&&"followers"===e||n.followed_count>0&&"followed"===e)&&(P(e),w(!0))};return s?Object(d.jsx)("div",{className:"home-wrapper",children:Object(d.jsx)(He.a,{size:40})}):Object(d.jsxs)("div",{className:"profile-wrapper",children:[Object(d.jsxs)("div",{className:"profile-header",children:[Object(d.jsx)(Ae.a,{alt:null===n||void 0===n?void 0:n.name,src:null===n||void 0===n?void 0:n.avatar_url,sx:{width:70,height:70}}),Object(d.jsxs)("div",{className:"profile-header-right",children:[n&&Object(d.jsx)("p",{children:n.name}),Object(d.jsxs)("div",{className:"profile-statistics-container",children:[Object(d.jsxs)("div",{className:"profile-statistics",children:[Object(d.jsx)("p",{className:"profile-statistics-number",children:null===n||void 0===n?void 0:n.posts_count}),Object(d.jsx)("p",{children:"Posts"})]}),Object(d.jsxs)("div",{className:"profile-statistics",onClick:function(){return D("followers")},children:[Object(d.jsx)("p",{className:"profile-statistics-number",children:null===n||void 0===n?void 0:n.followers_count}),Object(d.jsx)("p",{children:"Followers"})]}),Object(d.jsxs)("div",{className:"profile-statistics",onClick:function(){return D("followed")},children:[Object(d.jsx)("p",{className:"profile-statistics-number",children:null===n||void 0===n?void 0:n.followed_count}),Object(d.jsx)("p",{children:"Following"})]})]})]})]}),Object(d.jsx)("div",{className:"profile-buttons",children:t===Number(j)?Object(d.jsxs)("div",{className:"profile-buttons",children:[Object(d.jsx)(f.a,{variant:"outlined",onClick:T,children:"Edit profile"}),Object(d.jsx)(dt,{list:Object(d.jsxs)(ut.a,{children:[Object(d.jsxs)(bt.a,{button:!0,children:[Object(d.jsx)(ht.a,{children:Object(d.jsx)("i",{className:"fas fa-cog"})}),Object(d.jsx)(pt.a,{onClick:L,children:"Change password"})]}),Object(d.jsxs)(bt.a,{button:!0,children:[Object(d.jsx)(ht.a,{children:Object(d.jsx)("i",{className:"fas fa-sign-out-alt"})}),Object(d.jsx)(pt.a,{onClick:E,children:"Sign Out"})]}),Object(d.jsxs)(bt.a,{button:!0,children:[Object(d.jsx)(ht.a,{children:Object(d.jsx)("i",{className:"far fa-times-circle"})}),Object(d.jsx)(pt.a,{children:"Cancel"})]})]}),drawerTitle:"Settings"})]}):Object(d.jsx)("div",{className:"profile-buttons",children:(null===n||void 0===n?void 0:n.isFollowed)?Object(d.jsx)(f.a,{variant:"outlined",onClick:A,children:"Unfollow"}):Object(d.jsx)(f.a,{variant:"outlined",onClick:A,children:"Follow"})})}),Object(d.jsx)("div",{className:"profile-posts",children:o&&o.map((function(e){return Object(d.jsx)(mt,{post:e,searchActive:!1},e.id)}))}),Object(d.jsx)(Fe,{open:h,setOpen:p,children:Object(d.jsx)(ft,{})}),Object(d.jsx)(Fe,{open:g,setOpen:v,children:Object(d.jsx)(gt,{setOpen:v})}),n&&Object(d.jsx)(Fe,{open:y,setOpen:w,scrollType:"paper",children:Object(d.jsx)(vt,{id:n.id,path:C,setOpen:w})}),l&&Object(d.jsx)(f.a,{onClick:function(t){t.preventDefault(),l&&e(Be(n.id,o,r+1))},children:"Load more posts..."})]})},Nt=a(193),yt=a(401),wt=a(420),kt=a(399),St=["children","value","index"],Ct=function(e){var t=e.children,a=e.value,c=e.index,n=Object(Nt.a)(e,St);return Object(d.jsx)("div",Object(b.a)(Object(b.a)({role:"tabpanel",hidden:a!==c},n),{},{children:a===c&&Object(d.jsx)(lt.a,{sx:{p:3},children:Object(d.jsx)("div",{children:t})})}))},Pt=function(){var e=Object(c.useState)(0),t=Object(x.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(null),o=Object(x.a)(s,2),i=o[0],r=o[1],l=Object(c.useState)(null),u=Object(x.a)(l,2),b=u[0],h=u[1],p=Object(c.useState)(!1),O=Object(x.a)(p,2),m=O[0],f=O[1],g=Object(kt.a)((function(e){e.length>=4&&(f(!0),console.log(e),be.get("/search",{params:{user:e,post:e},headers:{Accept:"application/json"}}).then((function(e){console.log(e);var t=e.data.data.users,a=e.data.data.posts;h(t),r(a),f(!1)})).catch((function(e){return console.log(e)})))}),1e3);return Object(d.jsxs)("div",{className:"search",children:[Object(d.jsx)("div",{className:"search__input",children:Object(d.jsx)(y.a,{fullWidth:!0,placeholder:"Search",onChange:function(e){return g(e.target.value)},variant:"standard",InputProps:{startAdornment:Object(d.jsx)(w.a,{position:"start",children:Object(d.jsx)("i",{className:"fas fa-search"})})}})}),Object(d.jsx)("div",{className:"search__content",children:Object(d.jsxs)(lt.a,{sx:{width:"100%"},children:[Object(d.jsx)(lt.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(d.jsxs)(yt.a,{value:a,onChange:function(e,t){n(t)},children:[Object(d.jsx)(wt.a,{label:"Users"}),Object(d.jsx)(wt.a,{label:"Posts"})]})}),Object(d.jsx)(Ct,{value:a,index:0,children:m?Object(d.jsx)("div",{className:"search__loading",children:Object(d.jsx)(He.a,{size:40})}):b&&b.map((function(e){return Object(d.jsxs)("section",{className:"follow-dialog__user",children:[Object(d.jsx)("div",{className:"follow-dialog__avatar",children:Object(d.jsx)(j.b,{to:"/profile/".concat(e.id),children:Object(d.jsx)(Ae.a,{alt:e.name,src:e.avatar_url,sx:{width:30,height:30}})})}),Object(d.jsx)(j.b,{to:"/profile/".concat(e.id),children:e.name})]},e.id)}))}),Object(d.jsx)(Ct,{value:a,index:1,children:m?Object(d.jsx)("div",{className:"search__loading",children:Object(d.jsx)(He.a,{size:40})}):i&&Object(d.jsx)("div",{className:"profile-posts",children:i.map((function(e){return Object(d.jsx)(mt,{post:e,searchActive:!0},e.id)}))})})]})})]})},Et=a(406),Lt=a(421),Tt=a(109),At=a(192),Dt=function(e){var t=e.setFile,a=Object(At.a)({onDrop:function(e){e.forEach((function(e){console.log(e),t(e)}))},accept:"image/png, image/jpg, image/jpeg",multiple:!1,maxFiles:1}),c=a.getRootProps,n=a.getInputProps,s=a.isDragActive,o=a.isDragAccept,i=a.isDragReject;return Object(d.jsxs)("div",Object(b.a)(Object(b.a)({},c()),{},{className:"dropzone",children:[Object(d.jsx)("input",Object(b.a)({},n())),Object(d.jsx)("i",{className:"far fa-images icon ".concat(i?"icon--drag-reject":o?"icon--drag-accept":void 0)}),o&&Object(d.jsx)("p",{className:"dropzone__info",children:"File will be accepted"}),i&&Object(d.jsx)("p",{className:"dropzone__info",children:"File will be rejected"}),!s&&Object(d.jsx)("p",{className:"dropzone__info",children:"Drop photo here"}),Object(d.jsx)(f.a,{variant:"contained",children:"Choose from device"})]}))},Rt=a(403),Wt=a(3),Ft=function(e){var t=e.setPost,a=e.post,n=e.file,s=Object(i.c)((function(e){return e.auth})).user,o=function(e){t(Object(b.a)(Object(b.a)({},a),{},Object(Wt.a)({},e.target.name,e.target.value)))};return Object(c.useEffect)((function(){t(Object(b.a)(Object(b.a)({},a),{},{photo:n}))}),[n]),Object(d.jsxs)("main",{className:"post-form",children:[Object(d.jsx)("img",{src:URL.createObjectURL(n),alt:"editImage",className:"add-post__image"}),Object(d.jsxs)("div",{className:"post-form__user-info",children:[Object(d.jsx)(Ae.a,{alt:"xd",src:null===s||void 0===s?void 0:s.avatar_url}),Object(d.jsx)("p",{children:s.name})]}),Object(d.jsxs)("div",{className:"post-form__inputs",children:[Object(d.jsx)(y.a,{fullWidth:!0,label:"Add description",multiline:!0,maxRows:4,value:null===a||void 0===a?void 0:a.description,onChange:o,name:"description",className:"post-form__input"}),Object(d.jsx)(y.a,{fullWidth:!0,label:"Tags",placeholder:"#Tag #Tag #Tag",value:null===a||void 0===a?void 0:a.tags,onChange:o,name:"tags",className:"post-form__input"})]})]})},It=["Add image","Create post"],Ut=function(){var e=Object(i.c)((function(e){return e.auth})).user,t=Object(i.c)((function(e){return e.userReducer})).userLoading,a=Object(c.useState)(null),n=Object(x.a)(a,2),s=n[0],o=n[1],r=Object(c.useState)(0),l=Object(x.a)(r,2),j=l[0],u=l[1],h=Object(c.useState)(!1),m=Object(x.a)(h,2),g=(m[0],m[1]),v=Object(c.useState)({photo:null,description:"",tags:""}),_=Object(x.a)(v,2),N=_[0],y=_[1],w=Object(i.b)(),k=Object(Xe.g)();Object(c.useEffect)((function(){}),[s,N]);var S=[{htmlElement:s?Object(d.jsx)("img",{src:URL.createObjectURL(s),alt:"post",onClick:function(){g(!0)},className:"add-post__image"}):Object(d.jsx)(Dt,{setFile:o})},{htmlElement:Object(d.jsx)(Ft,{setPost:y,post:N,file:s})}],C=function(){var t=Object(O.a)(p.a.mark((function t(){var a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(Ge(!0)),a=new FormData,c={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},s&&Object(xt.a)(s,c).then((function(t){console.log(t),a.append("photo",t),N.description&&a.append("description",N.description),N.tags&&a.append("tags",N.tags),be.post("./posts",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),k("/profile/".concat(e.id)),w(Ge(!1))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})),console.log(N.photo);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t?Object(d.jsx)("div",{className:"add-post__loading",children:Object(d.jsx)(He.a,{size:40})}):Object(d.jsx)("main",{className:"add-post",children:Object(d.jsxs)(lt.a,{sx:{width:"100%"},children:[Object(d.jsx)(Et.a,{activeStep:j,alternativeLabel:!0,children:It.map((function(e,t){return Object(d.jsx)(Lt.a,Object(b.a)(Object(b.a)({},{}),{},{children:Object(d.jsx)(Rt.a,Object(b.a)(Object(b.a)({},{}),{},{children:e}))}),e)}))}),j===It.length?Object(d.jsxs)(c.Fragment,{children:[Object(d.jsx)(Tt.a,{sx:{mt:2,mb:1},children:"All steps completed - you're finished"}),Object(d.jsxs)(lt.a,{sx:{display:"flex",flexDirection:"row",pt:2},children:[Object(d.jsx)(lt.a,{sx:{flex:"1 1 auto"}}),Object(d.jsx)(f.a,{onClick:function(){u(0)},children:"Reset"})]})]}):Object(d.jsxs)(c.Fragment,{children:[S[j].htmlElement,Object(d.jsxs)(lt.a,{sx:{display:"flex",flexDirection:"row",pt:2},children:[Object(d.jsx)(f.a,{color:"inherit",disabled:!s&&0===j,onClick:j===It.length-1?function(){u((function(e){return e-1}))}:function(){o(null)},sx:{mr:1},children:j===It.length-1?"Back":"Remove photo"}),Object(d.jsx)(lt.a,{sx:{flex:"1 1 auto"}}),Object(d.jsx)(f.a,{onClick:j===It.length-1?C:function(){u((function(e){return e+1}))},disabled:!s,children:j===It.length-1?"Finish":"Next"})]})]})]})})},zt=function(e){Object(Ee.a)(e);var t=Object(c.useState)(!0),a=Object(x.a)(t,2),n=a[0],s=a[1],o=Object(c.useState)(null),i=Object(x.a)(o,2),r=i[0],l=i[1],j=Object(Xe.f)().state,u=Object(Xe.g)();Object(c.useEffect)((function(){var e=!1;return be.get("./posts/".concat(j.id)).then((function(t){e||(l(t.data.data),s(!1))})),function(){e=!0}}),[]);var h=function(e){r&&l(Object(b.a)(Object(b.a)({},r),{},Object(Wt.a)({},e.target.name,e.target.value)))};return n?Object(d.jsx)(He.a,{size:40}):Object(d.jsxs)("main",{className:"edit-post",children:[Object(d.jsx)("h2",{children:"Edit post"}),Object(d.jsx)("img",{src:null===r||void 0===r?void 0:r.img_url,alt:null===r||void 0===r?void 0:r.img_url}),Object(d.jsxs)("div",{className:"edit-post__form",children:[Object(d.jsx)(y.a,{fullWidth:!0,label:"Add description",multiline:!0,maxRows:4,value:r.description?null===r||void 0===r?void 0:r.description:"",name:"description",className:"edit-post__input",onChange:h}),Object(d.jsx)(y.a,{fullWidth:!0,label:"Tags",placeholder:"#Tag #Tag #Tag",value:r.tags?null===r||void 0===r?void 0:r.tags:"",name:"tags",className:"edit-post__input",onChange:h}),Object(d.jsx)(f.a,{onClick:function(){be.put("./posts/".concat(j.id),r).then((function(){u("/profile/".concat(null===r||void 0===r?void 0:r.author_id))})).catch((function(e){return console.log(e)}))},variant:"contained",children:"Save changes"})]})]})},Mt=function(){var e=Object(i.c)((function(e){return e.auth})).authenticated;return Object(c.useEffect)((function(){}),[]),Object(d.jsxs)(j.a,{children:[Object(d.jsx)(u,{}),Object(d.jsx)("div",{className:"content-wrapper",children:Object(d.jsxs)(Xe.d,{children:[Object(d.jsx)(Xe.b,{path:"/",element:Object(d.jsx)(tt,{children:Object(d.jsx)(Pe,{})})}),Object(d.jsx)(Xe.b,{path:"/signup",element:Object(d.jsx)(tt,{children:Object(d.jsx)(Pe,{})})}),Object(d.jsx)(Xe.b,{path:"/signin",element:Object(d.jsx)(tt,{children:Object(d.jsx)(Ce,{})})}),Object(d.jsx)(Xe.b,{path:"/home",element:Object(d.jsx)(et,{children:Object(d.jsx)(Qe,{})})}),Object(d.jsx)(Xe.b,{path:"/profile/:id",element:Object(d.jsx)(et,{children:Object(d.jsx)(_t,{})})}),Object(d.jsx)(Xe.b,{path:"/search",element:Object(d.jsx)(et,{children:Object(d.jsx)(Pt,{})})}),Object(d.jsx)(Xe.b,{path:"/addPost",element:Object(d.jsx)(et,{children:Object(d.jsx)(Ut,{})})}),Object(d.jsx)(Xe.b,{path:"/editPost",element:Object(d.jsx)(et,{children:Object(d.jsx)(zt,{})})})]})}),e&&Object(d.jsx)(rt,{})]})},qt=(a(344),a(188));var Bt=function(){return Object(d.jsx)(i.a,{store:je,children:Object(d.jsx)(qt.a,{loading:null,persistor:de,children:Object(d.jsx)(Mt,{})})})};o.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(Bt,{})}),document.getElementById("root"))},44:function(e,t,a){}},[[345,1,2]]]);
//# sourceMappingURL=main.a774ce8d.chunk.js.map